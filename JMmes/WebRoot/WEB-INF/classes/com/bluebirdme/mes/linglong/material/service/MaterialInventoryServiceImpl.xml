<?xml version="1.0" encoding="UTF-8"?>
<sqls>
    <sql comment="datagrid" id="datagridUDA_rows">
        <![CDATA[
            select * from AT_RM_WH_ITEM_INV where 1=1

                <#if arch_flag_s??>
                     and ARCH_FLAG_S=:arch_flag_s         
                </#if>
                
                <#if baseunit_s??>
                     and BASEUNIT_S=:baseunit_s
                </#if>
                <#if carrier_code_s??>
                     and CARRIER_CODE_S=:carrier_code_s
                </#if>
                <#if changed_by_s??>
                     and CHANGED_BY_S=:changed_by_s
                </#if>
                <#if changed_name_s??>
                     and CHANGED_NAME_S=:changed_name_s
                </#if>
                <#if changed_time_t??>
                     and CHANGED_TIME_T=:changed_time_t
                </#if>
                <#if check_by_s??>
                     and CHECK_BY_S=:check_by_s
                </#if>
                <#if check_result_s??>
                     and CHECK_RESULT_S=:check_result_s
                </#if>
                <#if created_by_s??>
                     and CREATED_BY_S=:created_by_s
                </#if>
                <#if created_name_s??>
                     and CREATED_NAME_S=:created_name_s
                </#if>
                <#if created_time_t??>
                     and CREATED_TIME_T=:created_time_t
                </#if>
                <#if date_allow_out_t??>
                     and DATE_ALLOW_OUT_T=:date_allow_out_t
                </#if>
                <#if dn_dnitem_s??>
                     and DN_DNITEM_S=:dn_dnitem_s
                </#if>
                <#if dn_dnno_s??>
                     and DN_DNNO_S=:dn_dnno_s
                </#if>
                <#if dn_salordid_s??>
                     and DN_SALORDID_S=:dn_salordid_s
                </#if>
                <#if dn_salorditem_s??>
                     and DN_SALORDITEM_S=:dn_salorditem_s
                </#if>
                <#if expiry_date_t??>
                     and EXPIRY_DATE_T<=to_date(:expiry_date_t,'yyyy-mm-dd hh24:mi:ss')
                </#if>
                <#if expired_day??>
                        and EXPIRY_DATE_T<to_date(:expired_day,'yyyy-mm-dd hh24:mi:ss')
                        and EXPIRY_DATE_T>SYSDATE
                </#if>
                <#if expiry_hand_count_i??>
                     and EXPIRY_HAND_COUNT_I=:expiry_hand_count_i
                </#if>
                <#if expiry_hand_remark_s??>
                     and EXPIRY_HAND_REMARK_S=:expiry_hand_remark_s
                </#if>
                <#if grade_code_s??>
                     and GRADE_CODE_S=:grade_code_s
                </#if>
                <#if id_s??>
                     and ID_S=:id_s
                </#if>

                <#if lot_no_s??>
                     and LOT_NO_S=:lot_no_s
                </#if>
                <#if materialgroup_s??>
                     and MATERIALGROUP_S=:materialgroup_s
                </#if>
                <#if materialtype_s??>
                     and MATERIALTYPE_S=:materialtype_s
                </#if>
                <#if materialtype_sap_s??>
                     and MATERIALTYPE_SAP_S=:materialtype_sap_s
                </#if>
                <#if material_code_s??>
                     and MATERIAL_CODE_S=:material_code_s
                </#if>
                <#if material_name_s??>
                     and MATERIAL_NAME_S=:material_name_s
                </#if>
                <#if outofdateflag_s??>
                     and OUTOFDATEFLAG_S=:outofdateflag_s
                </#if>
                <#if prioritymat_flag_s??>
                     and PRIORITYMAT_FLAG_S=:prioritymat_flag_s
                </#if>
                <#if qty_left_f??>
                     and QTY_LEFT_F=:qty_left_f
                </#if>
                <#if reas_code_s??>
                     and REAS_CODE_S=:reas_code_s
                </#if>
                <#if record_flag_s??>
                     and RECORD_FLAG_S=:record_flag_s
                </#if>
                <#if reverser_flag_s??>
                     and REVERSER_FLAG_S=:reverser_flag_s
                </#if>
                <#if self_flag_s??>
                     and SELF_FLAG_S=:self_flag_s
                </#if>
                <#if spare1_s??>
                     and SPARE1_S=:spare1_s
                </#if>
                <#if spare2_s??>
                     and SPARE2_S=:spare2_s
                </#if>
                <#if spare3_s??>
                     and SPARE3_S=:spare3_s
                </#if>
                <#if spare4_s??>
                     and SPARE4_S=:spare4_s
                </#if>
                <#if spare5_s??>
                     and SPARE5_S=:spare5_s
                </#if>
                <#if spare6_s??>
                     and SPARE6_S=:spare6_s
                </#if>
                <#if spare7_s??>
                     and SPARE7_S=:spare7_s
                </#if>
                <#if spare8_s??>
                     and SPARE8_S=:spare8_s
                </#if>
                <#if spare9_s??>
                     and SPARE9_S=:spare9_s
                </#if>
                <#if state_code_s??>
                     and STATE_CODE_S=:state_code_s
                </#if>
                <#if store_code_s??>
                     and STORE_CODE_S=:store_code_s
                </#if>
                <#if store_type_s??>
                     and STORE_TYPE_S=:store_type_s
                </#if>
                <#if supplier_code_s??>
                     and SUPPLIER_CODE_S=:supplier_code_s
                </#if>
                <#if supplier_lot_no_s??>
                     and SUPPLIER_LOT_NO_S like '%'||:supplier_lot_no_s||'%'
                </#if>
                <#if supplier_name_s??>
                     and SUPPLIER_NAME_S like '%'||:supplier_name_s||'%'
                </#if>
                <#if testmat_flag_s??>
                     and TESTMAT_FLAG_S=:testmat_flag_s
                </#if>
                <#if test_mesbusinesscode_s??>
                     and TEST_MESBUSINESSCODE_S=:test_mesbusinesscode_s
                </#if>
                <#if tray_code_s??>
                     and TRAY_CODE_S=:tray_code_s
                </#if>
                <#if warehouseid_s??>
                     and WAREHOUSEID_S=:warehouseid_s
                </#if>
                <#if warehouse_location_s??>
                     and WAREHOUSE_LOCATION_S=:warehouse_location_s
                </#if>
                <#if warehouse_mode_s??>
                     and WAREHOUSE_MODE_S=:warehouse_mode_s
                </#if>
                <#if weight_number_s??>
                     and WEIGHT_NUMBER_S=:weight_number_s
                </#if>
                <#if !supplier_lot_no_s?? && !lot_no_s?? && product_time_t??>
                    <#if start_time?? && end_time??>
	                 and PRODUCT_TIME_T between TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
	                 and TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
		            </#if>
		           	<#if start_time?? && !end_time??>
		                 and PRODUCT_TIME_T > TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
		            </#if>
		            <#if !start_time?? && end_time??>
		                 and PRODUCT_TIME_T < TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
		            </#if>
                      or (PRODUCT_TIME_T=:product_time_t and 0 =1)
                </#if>
               <#if !supplier_lot_no_s?? && !lot_no_s?? && in_time_t??>
                     <#if start_time?? && end_time??>
                     and IN_TIME_T between TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
                     and TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
                    </#if>
                    <#if start_time?? && !end_time??>
                         and IN_TIME_T > TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
                    </#if>
                    <#if !start_time?? && end_time??>
                         and IN_TIME_T < TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
                    </#if>
                    or (IN_TIME_T=:in_time_t and 0 =1)
                </#if>
                <#if spare10_s??>
                     or (SPARE10_S=:spare10_s and 1=0)
                </#if>
                order by store_code_s
    ]]>
    </sql>
    <sql comment="datagrid" id="datagridUDA_total">
        <![CDATA[
            select count(1) from AT_RM_WH_ITEM_INV where 1=1

                    <#if arch_flag_s??>
                         and ARCH_FLAG_S=:arch_flag_s
                    </#if>
                    
                    <#if baseunit_s??>
                         and BASEUNIT_S=:baseunit_s
                    </#if>
                    <#if carrier_code_s??>
                         and CARRIER_CODE_S=:carrier_code_s
                    </#if>
                    <#if changed_by_s??>
                         and CHANGED_BY_S=:changed_by_s
                    </#if>
                    <#if changed_name_s??>
                         and CHANGED_NAME_S=:changed_name_s
                    </#if>
                    <#if changed_time_t??>
                         and CHANGED_TIME_T=:changed_time_t
                    </#if>
                    <#if check_by_s??>
                         and CHECK_BY_S=:check_by_s
                    </#if>
                    <#if check_result_s??>
                         and CHECK_RESULT_S=:check_result_s
                    </#if>

                    <#if created_by_s??>
                         and CREATED_BY_S=:created_by_s
                    </#if>
                    <#if created_name_s??>
                         and CREATED_NAME_S=:created_name_s
                    </#if>
                    <#if created_time_t??>
                         and CREATED_TIME_T=:created_time_t
                    </#if>
                    <#if date_allow_out_t??>
                         and DATE_ALLOW_OUT_T=:date_allow_out_t
                    </#if>
                    <#if dn_dnitem_s??>
                         and DN_DNITEM_S=:dn_dnitem_s
                    </#if>
                    <#if dn_dnno_s??>
                         and DN_DNNO_S=:dn_dnno_s
                    </#if>
                    <#if dn_salordid_s??>
                         and DN_SALORDID_S=:dn_salordid_s
                    </#if>
                    <#if dn_salorditem_s??>
                         and DN_SALORDITEM_S=:dn_salorditem_s
                    </#if>
                    <#if expiry_date_t??>
                         and EXPIRY_DATE_T<=to_date(:expiry_date_t,'yyyy-mm-dd hh24:mi:ss')
                    </#if>
                    <#if expired_day??>
                        and EXPIRY_DATE_T<to_date(:expired_day,'yyyy-mm-dd hh24:mi:ss')
                        and EXPIRY_DATE_T>SYSDATE
                    </#if>
                    <#if expiry_hand_count_i??>
                         and EXPIRY_HAND_COUNT_I=:expiry_hand_count_i
                    </#if>
                    <#if expiry_hand_remark_s??>
                         and EXPIRY_HAND_REMARK_S=:expiry_hand_remark_s
                    </#if>
                    <#if grade_code_s??>
                         and GRADE_CODE_S=:grade_code_s
                    </#if>
                    <#if id_s??>
                         and ID_S=:id_s
                    </#if>


                    <#if lot_no_s??>
                         and LOT_NO_S=:lot_no_s
                    </#if>
                    <#if materialgroup_s??>
                         and MATERIALGROUP_S=:materialgroup_s
                    </#if>
                    <#if materialtype_s??>
                         and MATERIALTYPE_S=:materialtype_s
                    </#if>
                    <#if materialtype_sap_s??>
                         and MATERIALTYPE_SAP_S=:materialtype_sap_s
                    </#if>
                    <#if material_code_s??>
                         and MATERIAL_CODE_S=:material_code_s
                    </#if>
                    <#if material_name_s??>
                         and MATERIAL_NAME_S=:material_name_s
                    </#if>
                    <#if outofdateflag_s??>
                         and OUTOFDATEFLAG_S=:outofdateflag_s
                    </#if>
                    <#if prioritymat_flag_s??>
                         and PRIORITYMAT_FLAG_S=:prioritymat_flag_s
                    </#if>
                    <#if qty_left_f??>
                         and QTY_LEFT_F=:qty_left_f
                    </#if>
                    <#if reas_code_s??>
                         and REAS_CODE_S=:reas_code_s
                    </#if>
                    <#if record_flag_s??>
                         and RECORD_FLAG_S=:record_flag_s
                    </#if>
                    <#if reverser_flag_s??>
                         and REVERSER_FLAG_S=:reverser_flag_s
                    </#if>
                    <#if self_flag_s??>
                         and SELF_FLAG_S=:self_flag_s
                    </#if>
                    <#if spare1_s??>
                         and SPARE1_S=:spare1_s
                    </#if>
                    <#if spare2_s??>
                         and SPARE2_S=:spare2_s
                    </#if>
                    <#if spare3_s??>
                         and SPARE3_S=:spare3_s
                    </#if>
                    <#if spare4_s??>
                         and SPARE4_S=:spare4_s
                    </#if>
                    <#if spare5_s??>
                         and SPARE5_S=:spare5_s
                    </#if>
                    <#if spare6_s??>
                         and SPARE6_S=:spare6_s
                    </#if>
                    <#if spare7_s??>
                         and SPARE7_S=:spare7_s
                    </#if>
                    <#if spare8_s??>
                         and SPARE8_S=:spare8_s
                    </#if>
                    <#if spare9_s??>
                         and SPARE9_S=:spare9_s
                    </#if>
                    <#if state_code_s??>
                         and STATE_CODE_S=:state_code_s
                    </#if>
                    <#if store_code_s??>
                         and STORE_CODE_S=:store_code_s
                    </#if>
                    <#if store_type_s??>
                         and STORE_TYPE_S=:store_type_s
                    </#if>
                    <#if supplier_code_s??>
                         and SUPPLIER_CODE_S=:supplier_code_s
                    </#if>
                    <#if supplier_lot_no_s??>
                         and SUPPLIER_LOT_NO_S like '%'||:supplier_lot_no_s||'%'
                    </#if>
                    <#if supplier_name_s??>
                         and SUPPLIER_NAME_S like '%'||:supplier_name_s||'%'
                    </#if>
                    <#if testmat_flag_s??>
                         and TESTMAT_FLAG_S=:testmat_flag_s
                    </#if>
                    <#if test_mesbusinesscode_s??>
                         and TEST_MESBUSINESSCODE_S=:test_mesbusinesscode_s
                    </#if>
                    <#if tray_code_s??>
                         and TRAY_CODE_S=:tray_code_s
                    </#if>
                    <#if warehouseid_s??>
                         and WAREHOUSEID_S=:warehouseid_s
                    </#if>
                    <#if warehouse_location_s??>
                         and WAREHOUSE_LOCATION_S=:warehouse_location_s
                    </#if>
                    <#if warehouse_mode_s??>
                         and WAREHOUSE_MODE_S=:warehouse_mode_s
                    </#if>
                    <#if weight_number_s??>
                         and WEIGHT_NUMBER_S=:weight_number_s
                    </#if>
                      <#if !supplier_lot_no_s?? && !lot_no_s?? && product_time_t??>
                        <#if start_time?? && end_time??>
                         and PRODUCT_TIME_T between TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
                         and TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
                        </#if>
                        <#if start_time?? && !end_time??>
                             and PRODUCT_TIME_T > TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
                        </#if>
                        <#if !start_time?? && end_time??>
                             and PRODUCT_TIME_T < TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
                        </#if>
                        or (PRODUCT_TIME_T=:product_time_t and 0 =1)
                    </#if>
                    <#if !supplier_lot_no_s?? && !lot_no_s?? && in_time_t??>
                         <#if start_time?? && end_time??>
                         and IN_TIME_T between TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
                         and TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
                        </#if>
                        <#if start_time?? && !end_time??>
                             and IN_TIME_T > TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
                        </#if>
                        <#if !start_time?? && end_time??>
                             and IN_TIME_T < TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
                        </#if>
                        or (IN_TIME_T=:in_time_t and 0 =1)
                    </#if>
                    <#if spare10_s??>
                         or( SPARE10_S=:spare10_s and 1=0)
                    </#if>
        ]]>
    </sql>

    <sql comment="datagrid" id="datagrid_rows2">
        <![CDATA[
            select * from AT_RM_WH_ITEM_INV where 1=1

                <#if arch_flag_s??>
                     and ARCH_FLAG_S=:arch_flag_s
                </#if>
                <#if baseunit_s??>
                     and BASEUNIT_S=:baseunit_s
                </#if>
                <#if carrier_code_s??>
                     and CARRIER_CODE_S=:carrier_code_s
                </#if>
                <#if changed_by_s??>
                     and CHANGED_BY_S=:changed_by_s
                </#if>
                <#if changed_name_s??>
                     and CHANGED_NAME_S=:changed_name_s
                </#if>
                <#if changed_time_t??>
                     and CHANGED_TIME_T=:changed_time_t
                </#if>
                <#if check_by_s??>
                     and CHECK_BY_S=:check_by_s
                </#if>
                <#if check_result_s??>
                     and CHECK_RESULT_S=:check_result_s
                </#if>
                <#if created_by_s??>
                     and CREATED_BY_S=:created_by_s
                </#if>
                <#if created_name_s??>
                     and CREATED_NAME_S=:created_name_s
                </#if>
                <#if created_time_t??>
                     and CREATED_TIME_T=:created_time_t
                </#if>
                <#if date_allow_out_t??>
                     and DATE_ALLOW_OUT_T=:date_allow_out_t
                </#if>
                <#if dn_dnitem_s??>
                     and DN_DNITEM_S=:dn_dnitem_s
                </#if>
                <#if dn_dnno_s??>
                     and DN_DNNO_S=:dn_dnno_s
                </#if>
                <#if dn_salordid_s??>
                     and DN_SALORDID_S=:dn_salordid_s
                </#if>
                <#if dn_salorditem_s??>
                     and DN_SALORDITEM_S=:dn_salorditem_s
                </#if>
                <#if expiry_date_t??>
                     and EXPIRY_DATE_T<=to_date(:expiry_date_t,'yyyy-mm-dd hh24:mi:ss')
                </#if>
                <#if expired_day??>
                     and EXPIRY_DATE_T<to_date(:expired_day,'yyyy-mm-dd hh24:mi:ss')
                     and EXPIRY_DATE_T>SYSDATE
                </#if>
                <#if expiry_hand_count_i??>
                     and EXPIRY_HAND_COUNT_I=:expiry_hand_count_i
                </#if>
                <#if expiry_hand_remark_s??>
                     and EXPIRY_HAND_REMARK_S=:expiry_hand_remark_s
                </#if>
                <#if grade_code_s??>
                     and GRADE_CODE_S=:grade_code_s
                </#if>
                <#if id_s??>
                     and ID_S=:id_s
                </#if>

                <#if lot_no_s??>
                     and LOT_NO_S like '%'||:lot_no_s||'%'
                </#if>
                <#if materialgroup_s??>
                     and MATERIALGROUP_S=:materialgroup_s
                </#if>
                <#if materialtype_s??>
                     and MATERIALTYPE_S=:materialtype_s
                </#if>
                <#if materialtype_sap_s??>
                     and MATERIALTYPE_SAP_S=:materialtype_sap_s
                </#if>
                <#if material_code_s??>
                     and MATERIAL_CODE_S=:material_code_s
                </#if>
                <#if material_name_s??>
                     and MATERIAL_NAME_S=:material_name_s
                </#if>
                <#if outofdateflag_s??>
                     and OUTOFDATEFLAG_S=:outofdateflag_s
                </#if>
                <#if prioritymat_flag_s??>
                     and PRIORITYMAT_FLAG_S=:prioritymat_flag_s
                </#if>
                <#if qty_left_f??>
                     and QTY_LEFT_F=:qty_left_f
                </#if>
                <#if reas_code_s??>
                     and REAS_CODE_S=:reas_code_s
                </#if>
                <#if record_flag_s??>
                     and RECORD_FLAG_S=:record_flag_s
                </#if>
                <#if reverser_flag_s??>
                     and REVERSER_FLAG_S=:reverser_flag_s
                </#if>
                <#if self_flag_s??>
                     and SELF_FLAG_S=:self_flag_s
                </#if>
                <#if spare1_s??>
                     and SPARE1_S=:spare1_s
                </#if>
                <#if spare2_s??>
                     and SPARE2_S=:spare2_s
                </#if>
                <#if spare3_s??>
                     and SPARE3_S=:spare3_s
                </#if>
                <#if spare4_s??>
                     and SPARE4_S=:spare4_s
                </#if>
                <#if spare5_s??>
                     and SPARE5_S=:spare5_s
                </#if>
                <#if spare6_s??>
                     and SPARE6_S=:spare6_s
                </#if>
                <#if spare7_s??>
                     and SPARE7_S=:spare7_s
                </#if>
                <#if spare8_s??>
                     and SPARE8_S=:spare8_s
                </#if>
                <#if spare9_s??>
                     and SPARE9_S=:spare9_s
                </#if>
                <#if state_code_s??>
                     and STATE_CODE_S=:state_code_s
                </#if>
                <#if store_code_s??>
                     and STORE_CODE_S=:store_code_s
                </#if>
                <#if store_type_s??>
                     and STORE_TYPE_S=:store_type_s
                </#if>
                <#if supplier_code_s??>
                     and SUPPLIER_CODE_S=:supplier_code_s
                </#if>
                <#if supplier_lot_no_s??>
                     and SUPPLIER_LOT_NO_S like '%'||:supplier_lot_no_s||'%'
                </#if>
                <#if supplier_name_s??>
                     and SUPPLIER_NAME_S like '%'||:supplier_name_s||'%'
                </#if>
                <#if testmat_flag_s??>
                     and TESTMAT_FLAG_S=:testmat_flag_s
                </#if>
                <#if test_mesbusinesscode_s??>
                     and TEST_MESBUSINESSCODE_S=:test_mesbusinesscode_s
                </#if>
                <#if tray_code_s??>
                     and TRAY_CODE_S=:tray_code_s
                </#if>
                <#if warehouseid_s??>
                     and WAREHOUSEID_S=:warehouseid_s
                </#if>
                <#if warehouse_location_s??>
                     and WAREHOUSE_LOCATION_S=:warehouse_location_s
                </#if>
                <#if warehouse_mode_s??>
                     and WAREHOUSE_MODE_S=:warehouse_mode_s
                </#if>
                <#if weight_number_s??>
                     and WEIGHT_NUMBER_S=:weight_number_s
                </#if>
                <#if !supplier_lot_no_s?? && !lot_no_s?? && product_time_t??>
                    <#if start_time?? && end_time??>
	                 and PRODUCT_TIME_T between TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
	                 and TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
		            </#if>
		           	<#if start_time?? && !end_time??>
		                 and PRODUCT_TIME_T > TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
		            </#if>
		            <#if !start_time?? && end_time??>
		                 and PRODUCT_TIME_T < TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
		            </#if>
                      or (PRODUCT_TIME_T=:product_time_t and 0 =1)
                </#if>
               <#if !lot_no_s?? &&!supplier_lot_no_s?? && in_time_t??>
                     <#if start_time?? && end_time??>
                     and IN_TIME_T between TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
                     and TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
                    </#if>
                    <#if start_time?? && !end_time??>
                         and IN_TIME_T > TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
                    </#if>
                    <#if !start_time?? && end_time??>
                         and IN_TIME_T < TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
                    </#if>
                    or (IN_TIME_T=:in_time_t and 0 =1)
                </#if>
                <#if spare10_s??>
                     or (SPARE10_S=:spare10_s and 1=0)
                </#if>
                <#if !supplier_lot_no_s?? && !lot_no_s?? && in_time_t??>
                    or (in_time_t=:in_time_t and 1=0)
                    order by in_time_t desc
                </#if>
                <#if !supplier_lot_no_s?? && !lot_no_s?? && product_time_t??>
                    or (PRODUCT_TIME_T=:product_time_t and 1=0)
                    order by PRODUCT_TIME_T desc
                </#if>
                   <#if !lot_no_s??&&supplier_lot_no_s??>
                and supplier_lot_no_s like '%'||:supplier_lot_no_s||'%'
                order by changed_time_t desc nulls last,created_time_t desc,ATR_KEY,product_time_t desc
                </#if>
                <#if !supplier_lot_no_s??&&lot_no_s??>
                and lot_no_s like '%'||:lot_no_s||'%'
                order by changed_time_t desc nulls last,created_time_t desc,ATR_KEY,product_time_t desc
                </#if>
                <#if supplier_lot_no_s??&&lot_no_s??>
                and supplier_lot_no_s like '%'||:supplier_lot_no_s||'%'
                and lot_no_s like '%'||:lot_no_s||'%'
                order by changed_time_t desc nulls last,created_time_t desc,ATR_KEY,product_time_t desc
                </#if>
        ]]>
    </sql>
    <sql comment="datagrid" id="datagrid_total2">
        <![CDATA[
            select count(1) from AT_RM_WH_ITEM_INV where 1=1

                    <#if arch_flag_s??>
                         and ARCH_FLAG_S=:arch_flag_s
                    </#if>
                    <#if baseunit_s??>
                         and BASEUNIT_S=:baseunit_s
                    </#if>
                    <#if carrier_code_s??>
                         and CARRIER_CODE_S=:carrier_code_s
                    </#if>
                    <#if changed_by_s??>
                         and CHANGED_BY_S=:changed_by_s
                    </#if>
                    <#if changed_name_s??>
                         and CHANGED_NAME_S=:changed_name_s
                    </#if>
                    <#if changed_time_t??>
                         and CHANGED_TIME_T=:changed_time_t
                    </#if>
                    <#if check_by_s??>
                         and CHECK_BY_S=:check_by_s
                    </#if>
                    <#if check_result_s??>
                         and CHECK_RESULT_S=:check_result_s
                    </#if>

                    <#if created_by_s??>
                         and CREATED_BY_S=:created_by_s
                    </#if>
                    <#if created_name_s??>
                         and CREATED_NAME_S=:created_name_s
                    </#if>
                    <#if created_time_t??>
                         and CREATED_TIME_T=:created_time_t
                    </#if>
                    <#if date_allow_out_t??>
                         and DATE_ALLOW_OUT_T=:date_allow_out_t
                    </#if>
                    <#if dn_dnitem_s??>
                         and DN_DNITEM_S=:dn_dnitem_s
                    </#if>
                    <#if dn_dnno_s??>
                         and DN_DNNO_S=:dn_dnno_s
                    </#if>
                    <#if dn_salordid_s??>
                         and DN_SALORDID_S=:dn_salordid_s
                    </#if>
                    <#if dn_salorditem_s??>
                         and DN_SALORDITEM_S=:dn_salorditem_s
                    </#if>
                    <#if expiry_date_t??>
                         and EXPIRY_DATE_T<=to_date(:expiry_date_t,'yyyy-mm-dd hh24:mi:ss')
                    </#if>
                    <#if expired_day??>
                        and EXPIRY_DATE_T<to_date(:expired_day,'yyyy-mm-dd hh24:mi:ss')
                        and EXPIRY_DATE_T>SYSDATE
                    </#if>
                    <#if expiry_hand_count_i??>
                         and EXPIRY_HAND_COUNT_I=:expiry_hand_count_i
                    </#if>
                    <#if expiry_hand_remark_s??>
                         and EXPIRY_HAND_REMARK_S=:expiry_hand_remark_s
                    </#if>
                    <#if grade_code_s??>
                         and GRADE_CODE_S=:grade_code_s
                    </#if>
                    <#if id_s??>
                         and ID_S=:id_s
                    </#if>
                    <#if lot_no_s??>
                         and LOT_NO_S like '%'||:lot_no_s||'%'
                    </#if>
                    <#if materialgroup_s??>
                         and MATERIALGROUP_S=:materialgroup_s
                    </#if>
                    <#if materialtype_s??>
                         and MATERIALTYPE_S=:materialtype_s
                    </#if>
                    <#if materialtype_sap_s??>
                         and MATERIALTYPE_SAP_S=:materialtype_sap_s
                    </#if>
                    <#if material_code_s??>
                         and MATERIAL_CODE_S=:material_code_s
                    </#if>
                    <#if material_name_s??>
                         and MATERIAL_NAME_S=:material_name_s
                    </#if>
                    <#if outofdateflag_s??>
                         and OUTOFDATEFLAG_S=:outofdateflag_s
                    </#if>
                    <#if prioritymat_flag_s??>
                         and PRIORITYMAT_FLAG_S=:prioritymat_flag_s
                    </#if>
                    <#if qty_left_f??>
                         and QTY_LEFT_F=:qty_left_f
                    </#if>
                    <#if reas_code_s??>
                         and REAS_CODE_S=:reas_code_s
                    </#if>
                    <#if record_flag_s??>
                         and RECORD_FLAG_S=:record_flag_s
                    </#if>
                    <#if reverser_flag_s??>
                         and REVERSER_FLAG_S=:reverser_flag_s
                    </#if>
                    <#if self_flag_s??>
                         and SELF_FLAG_S=:self_flag_s
                    </#if>
                    <#if spare1_s??>
                         and SPARE1_S=:spare1_s
                    </#if>
                    <#if spare2_s??>
                         and SPARE2_S=:spare2_s
                    </#if>
                    <#if spare3_s??>
                         and SPARE3_S=:spare3_s
                    </#if>
                    <#if spare4_s??>
                         and SPARE4_S=:spare4_s
                    </#if>
                    <#if spare5_s??>
                         and SPARE5_S=:spare5_s
                    </#if>
                    <#if spare6_s??>
                         and SPARE6_S=:spare6_s
                    </#if>
                    <#if spare7_s??>
                         and SPARE7_S=:spare7_s
                    </#if>
                    <#if spare8_s??>
                         and SPARE8_S=:spare8_s
                    </#if>
                    <#if spare9_s??>
                         and SPARE9_S=:spare9_s
                    </#if>
                    <#if state_code_s??>
                         and STATE_CODE_S=:state_code_s
                    </#if>
                    <#if store_code_s??>
                         and STORE_CODE_S=:store_code_s
                    </#if>
                    <#if store_type_s??>
                         and STORE_TYPE_S=:store_type_s
                    </#if>
                    <#if supplier_code_s??>
                         and SUPPLIER_CODE_S=:supplier_code_s
                    </#if>
                    <#if supplier_lot_no_s??>
                         and SUPPLIER_LOT_NO_S like '%'||:supplier_lot_no_s||'%'
                    </#if>
                    <#if supplier_name_s??>
                         and SUPPLIER_NAME_S like '%'||:supplier_name_s||'%'
                    </#if>
                    <#if testmat_flag_s??>
                         and TESTMAT_FLAG_S=:testmat_flag_s
                    </#if>
                    <#if test_mesbusinesscode_s??>
                         and TEST_MESBUSINESSCODE_S=:test_mesbusinesscode_s
                    </#if>
                    <#if tray_code_s??>
                         and TRAY_CODE_S=:tray_code_s
                    </#if>
                    <#if warehouseid_s??>
                         and WAREHOUSEID_S=:warehouseid_s
                    </#if>
                    <#if warehouse_location_s??>
                         and WAREHOUSE_LOCATION_S=:warehouse_location_s
                    </#if>
                    <#if warehouse_mode_s??>
                         and WAREHOUSE_MODE_S=:warehouse_mode_s
                    </#if>
                    <#if weight_number_s??>
                         and WEIGHT_NUMBER_S=:weight_number_s
                    </#if>
                      <#if !lot_no_s?? && !supplier_lot_no_s?? && product_time_t??>
                        <#if start_time?? && end_time??>
                         and PRODUCT_TIME_T between TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
                         and TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
                        </#if>
                        <#if start_time?? && !end_time??>
                             and PRODUCT_TIME_T > TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
                        </#if>
                        <#if !start_time?? && end_time??>
                             and PRODUCT_TIME_T < TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
                        </#if>
                        or (PRODUCT_TIME_T=:product_time_t and 0 =1)
                    </#if>
                    <#if !supplier_lot_no_s?? && !lot_no_s?? && in_time_t??>
                         <#if start_time?? && end_time??>
                         and IN_TIME_T between TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
                         and TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
                        </#if>
                        <#if start_time?? && !end_time??>
                             and IN_TIME_T > TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
                        </#if>
                        <#if !start_time?? && end_time??>
                             and IN_TIME_T < TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
                        </#if>
                        or (IN_TIME_T=:in_time_t and 0 =1)
                    </#if>
                    <#if spare10_s??>
                         or (SPARE10_S=:spare10_s and 1=0)
                    </#if>
        ]]>
    </sql>

    <sql comment="datagrid" id="findStorageMaterial">
        <![CDATA[
            select t.store_type_s store_type_s,
            t.material_code_s material_code_s,
            t.material_name_s material_name_s,
            count(material_code_s)
            FROM AT_RM_WH_ITEM_INV t
            where 1=1
             and store_type_s=:store_type_s
             or nvl(:store_type_s,'null')='null'
            group by store_type_s,material_code_s,t.material_name_s
        ]]>
    </sql>

    <sql comment="datagrid" id="findStorageSupplier">
        <![CDATA[
            select
            t.supplier_name_s supplier_name_s,
            t.supplier_code_s supplier_code_s,
            count(supplier_code_s)
             from AT_RM_WH_ITEM_INV t
            where 1=1
            and store_type_s=:store_type_s
            and material_code_s=:material_code_s
            or nvl(:store_type_s,'null')='null'
            or nvl(:material_code_s,'null')='null'
            group by
            t.supplier_name_s,t.supplier_code_s
        ]]>
    </sql>

    <sql comment="datagrid" id="datagrid_rowshis">
        <![CDATA[
            select * from AT_RM_WH_ITEM_INV_HIS where 1=1

                <#if arch_flag_s??>
                     and ARCH_FLAG_S=:arch_flag_s
                </#if>
                <#if baseunit_s??>
                     and BASEUNIT_S=:baseunit_s
                </#if>
                <#if carrier_code_s??>
                     and CARRIER_CODE_S=:carrier_code_s
                </#if>
                <#if changed_by_s??>
                     and CHANGED_BY_S=:changed_by_s
                </#if>
                <#if changed_name_s??>
                     and CHANGED_NAME_S=:changed_name_s
                </#if>
                <#if changed_time_t??>
                     and CHANGED_TIME_T=:changed_time_t
                </#if>
                <#if check_by_s??>
                     and CHECK_BY_S=:check_by_s
                </#if>
                <#if check_result_s??>
                     and CHECK_RESULT_S=:check_result_s
                </#if>
                <#if created_by_s??>
                     and CREATED_BY_S=:created_by_s
                </#if>
                <#if created_name_s??>
                     and CREATED_NAME_S=:created_name_s
                </#if>
                <#if created_time_t??>
                     and CREATED_TIME_T=:created_time_t
                </#if>
                <#if date_allow_out_t??>
                     and DATE_ALLOW_OUT_T=:date_allow_out_t
                </#if>
                <#if dn_dnitem_s??>
                     and DN_DNITEM_S=:dn_dnitem_s
                </#if>
                <#if dn_dnno_s??>
                     and DN_DNNO_S=:dn_dnno_s
                </#if>
                <#if dn_salordid_s??>
                     and DN_SALORDID_S=:dn_salordid_s
                </#if>
                <#if dn_salorditem_s??>
                     and DN_SALORDITEM_S=:dn_salorditem_s
                </#if>
                <#if expiry_date_t??>
                     and EXPIRY_DATE_T<=to_date(:expiry_date_t,'yyyy-mm-dd hh24:mi:ss')
                </#if>
                <#if expired_day??>
                        and EXPIRY_DATE_T<to_date(:expired_day,'yyyy-mm-dd hh24:mi:ss')
                        and EXPIRY_DATE_T>SYSDATE
                </#if>
                <#if expiry_hand_count_i??>
                     and EXPIRY_HAND_COUNT_I=:expiry_hand_count_i
                </#if>
                <#if expiry_hand_remark_s??>
                     and EXPIRY_HAND_REMARK_S=:expiry_hand_remark_s
                </#if>
                <#if grade_code_s??>
                     and GRADE_CODE_S=:grade_code_s
                </#if>
                <#if id_s??>
                     and ID_S=:id_s
                </#if>

                <#if lot_no_s??>
                     and LOT_NO_S=:lot_no_s
                </#if>
                <#if materialgroup_s??>
                     and MATERIALGROUP_S=:materialgroup_s
                </#if>
                <#if materialtype_s??>
                     and MATERIALTYPE_S=:materialtype_s
                </#if>
                <#if materialtype_sap_s??>
                     and MATERIALTYPE_SAP_S=:materialtype_sap_s
                </#if>
                <#if material_code_s??>
                     and MATERIAL_CODE_S=:material_code_s
                </#if>
                <#if material_name_s??>
                     and MATERIAL_NAME_S=:material_name_s
                </#if>
                <#if outofdateflag_s??>
                     and OUTOFDATEFLAG_S=:outofdateflag_s
                </#if>
                <#if prioritymat_flag_s??>
                     and PRIORITYMAT_FLAG_S=:prioritymat_flag_s
                </#if>
                <#if qty_left_f??>
                     and QTY_LEFT_F=:qty_left_f
                </#if>
                <#if reas_code_s??>
                     and REAS_CODE_S=:reas_code_s
                </#if>
                <#if record_flag_s??>
                     and RECORD_FLAG_S=:record_flag_s
                </#if>
                <#if reverser_flag_s??>
                     and REVERSER_FLAG_S=:reverser_flag_s
                </#if>
                <#if self_flag_s??>
                     and SELF_FLAG_S=:self_flag_s
                </#if>
                <#if spare1_s??>
                     and SPARE1_S=:spare1_s
                </#if>
                <#if spare2_s??>
                     and SPARE2_S=:spare2_s
                </#if>
                <#if spare3_s??>
                     and SPARE3_S=:spare3_s
                </#if>
                <#if spare4_s??>
                     and SPARE4_S=:spare4_s
                </#if>
                <#if spare5_s??>
                     and SPARE5_S=:spare5_s
                </#if>
                <#if spare6_s??>
                     and SPARE6_S=:spare6_s
                </#if>
                <#if spare7_s??>
                     and SPARE7_S=:spare7_s
                </#if>
                <#if spare8_s??>
                     and SPARE8_S=:spare8_s
                </#if>
                <#if spare9_s??>
                     and SPARE9_S=:spare9_s
                </#if>
                <#if state_code_s??>
                     and STATE_CODE_S=:state_code_s
                </#if>
                <#if store_code_s??>
                     and STORE_CODE_S=:store_code_s
                </#if>
                <#if store_type_s??>
                     and STORE_TYPE_S=:store_type_s
                </#if>
                <#if supplier_code_s??>
                     and SUPPLIER_CODE_S=:supplier_code_s
                </#if>
                <#if supplier_lot_no_s??>
                     and SUPPLIER_LOT_NO_S like '%'||:supplier_lot_no_s||'%'
                </#if>
                <#if supplier_name_s??>
                     and SUPPLIER_NAME_S like '%'||:supplier_name_s||'%'
                </#if>
                <#if testmat_flag_s??>
                     and TESTMAT_FLAG_S=:testmat_flag_s
                </#if>
                <#if test_mesbusinesscode_s??>
                     and TEST_MESBUSINESSCODE_S=:test_mesbusinesscode_s
                </#if>
                <#if tray_code_s??>
                     and TRAY_CODE_S=:tray_code_s
                </#if>
                <#if warehouseid_s??>
                     and WAREHOUSEID_S=:warehouseid_s
                </#if>
                <#if warehouse_location_s??>
                     and WAREHOUSE_LOCATION_S=:warehouse_location_s
                </#if>
                <#if warehouse_mode_s??>
                     and WAREHOUSE_MODE_S=:warehouse_mode_s
                </#if>
                <#if weight_number_s??>
                     and WEIGHT_NUMBER_S=:weight_number_s
                </#if>
                <#if !supplier_lot_no_s?? && !lot_no_s?? && product_time_t??>
                    <#if start_time?? && end_time??>
	                 and PRODUCT_TIME_T between TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
	                 and TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
		            </#if>
		           	<#if start_time?? && !end_time??>
		                 and PRODUCT_TIME_T > TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
		            </#if>
		            <#if !start_time?? && end_time??>
		                 and PRODUCT_TIME_T < TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
		            </#if>
                      or (PRODUCT_TIME_T=:product_time_t and 0 =1)
                </#if>
               <#if !supplier_lot_no_s?? && !lot_no_s?? && in_time_t??>
                     <#if start_time?? && end_time??>
                     and IN_TIME_T between TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
                     and TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
                    </#if>
                    <#if start_time?? && !end_time??>
                         and IN_TIME_T > TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
                    </#if>
                    <#if !start_time?? && end_time??>
                         and IN_TIME_T < TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
                    </#if>
                    or (IN_TIME_T=:in_time_t and 0 =1)
                </#if>
                <#if spare10_s??>
                     or (SPARE10_S=:spare10_s and 1=0)
                </#if>
                <#if !supplier_lot_no_s?? && !lot_no_s?? && in_time_t??>
                    or (in_time_t=:in_time_t and 1=0)
                    order by in_time_t desc
                </#if>
                <#if !supplier_lot_no_s?? && !lot_no_s?? && product_time_t??>
                    or (PRODUCT_TIME_T=:product_time_t and 1=0)
                    order by PRODUCT_TIME_T desc
                </#if>
                <#if !lot_no_s??&&supplier_lot_no_s??>
                and supplier_lot_no_s like '%'||:supplier_lot_no_s||'%'
                order by changed_time_t desc nulls last,created_time_t desc,ATR_KEY,product_time_t desc
                </#if>
                <#if !supplier_lot_no_s??&&lot_no_s??>
                and lot_no_s like '%'||:lot_no_s||'%'
                order by changed_time_t desc nulls last,created_time_t desc,ATR_KEY,product_time_t desc
                </#if>
                <#if supplier_lot_no_s??&&lot_no_s??>
                and supplier_lot_no_s like '%'||:supplier_lot_no_s||'%'
                and lot_no_s like '%'||:lot_no_s||'%'
                order by changed_time_t desc nulls last,created_time_t desc,ATR_KEY,product_time_t desc
                </#if>
    ]]>
    </sql>
    <sql comment="datagrid" id="datagrid_totalhis">
        <![CDATA[
            select count(1) from AT_RM_WH_ITEM_INV_HIS where 1=1

                    <#if arch_flag_s??>
                         and ARCH_FLAG_S=:arch_flag_s
                    </#if>
                    <#if baseunit_s??>
                         and BASEUNIT_S=:baseunit_s
                    </#if>
                    <#if carrier_code_s??>
                         and CARRIER_CODE_S=:carrier_code_s
                    </#if>
                    <#if changed_by_s??>
                         and CHANGED_BY_S=:changed_by_s
                    </#if>
                    <#if changed_name_s??>
                         and CHANGED_NAME_S=:changed_name_s
                    </#if>
                    <#if changed_time_t??>
                         and CHANGED_TIME_T=:changed_time_t
                    </#if>
                    <#if check_by_s??>
                         and CHECK_BY_S=:check_by_s
                    </#if>
                    <#if check_result_s??>
                         and CHECK_RESULT_S=:check_result_s
                    </#if>

                    <#if created_by_s??>
                         and CREATED_BY_S=:created_by_s
                    </#if>
                    <#if created_name_s??>
                         and CREATED_NAME_S=:created_name_s
                    </#if>
                    <#if created_time_t??>
                         and CREATED_TIME_T=:created_time_t
                    </#if>
                    <#if date_allow_out_t??>
                         and DATE_ALLOW_OUT_T=:date_allow_out_t
                    </#if>
                    <#if dn_dnitem_s??>
                         and DN_DNITEM_S=:dn_dnitem_s
                    </#if>
                    <#if dn_dnno_s??>
                         and DN_DNNO_S=:dn_dnno_s
                    </#if>
                    <#if dn_salordid_s??>
                         and DN_SALORDID_S=:dn_salordid_s
                    </#if>
                    <#if dn_salorditem_s??>
                         and DN_SALORDITEM_S=:dn_salorditem_s
                    </#if>
                    <#if expiry_date_t??>
                         and EXPIRY_DATE_T<=to_date(:expiry_date_t,'yyyy-mm-dd hh24:mi:ss')
                    </#if>
                    <#if expired_day??>
                        and EXPIRY_DATE_T<to_date(:expired_day,'yyyy-mm-dd hh24:mi:ss')
                        and EXPIRY_DATE_T>SYSDATE
                    </#if>
                    <#if expiry_hand_count_i??>
                         and EXPIRY_HAND_COUNT_I=:expiry_hand_count_i
                    </#if>
                    <#if expiry_hand_remark_s??>
                         and EXPIRY_HAND_REMARK_S=:expiry_hand_remark_s
                    </#if>
                    <#if grade_code_s??>
                         and GRADE_CODE_S=:grade_code_s
                    </#if>
                    <#if id_s??>
                         and ID_S=:id_s
                    </#if>


                    <#if lot_no_s??>
                         and LOT_NO_S=:lot_no_s
                    </#if>
                    <#if materialgroup_s??>
                         and MATERIALGROUP_S=:materialgroup_s
                    </#if>
                    <#if materialtype_s??>
                         and MATERIALTYPE_S=:materialtype_s
                    </#if>
                    <#if materialtype_sap_s??>
                         and MATERIALTYPE_SAP_S=:materialtype_sap_s
                    </#if>
                    <#if material_code_s??>
                         and MATERIAL_CODE_S=:material_code_s
                    </#if>
                    <#if material_name_s??>
                         and MATERIAL_NAME_S=:material_name_s
                    </#if>
                    <#if outofdateflag_s??>
                         and OUTOFDATEFLAG_S=:outofdateflag_s
                    </#if>
                    <#if prioritymat_flag_s??>
                         and PRIORITYMAT_FLAG_S=:prioritymat_flag_s
                    </#if>
                    <#if qty_left_f??>
                         and QTY_LEFT_F=:qty_left_f
                    </#if>
                    <#if reas_code_s??>
                         and REAS_CODE_S=:reas_code_s
                    </#if>
                    <#if record_flag_s??>
                         and RECORD_FLAG_S=:record_flag_s
                    </#if>
                    <#if reverser_flag_s??>
                         and REVERSER_FLAG_S=:reverser_flag_s
                    </#if>
                    <#if self_flag_s??>
                         and SELF_FLAG_S=:self_flag_s
                    </#if>
                    <#if spare1_s??>
                         and SPARE1_S=:spare1_s
                    </#if>
                    <#if spare2_s??>
                         and SPARE2_S=:spare2_s
                    </#if>
                    <#if spare3_s??>
                         and SPARE3_S=:spare3_s
                    </#if>
                    <#if spare4_s??>
                         and SPARE4_S=:spare4_s
                    </#if>
                    <#if spare5_s??>
                         and SPARE5_S=:spare5_s
                    </#if>
                    <#if spare6_s??>
                         and SPARE6_S=:spare6_s
                    </#if>
                    <#if spare7_s??>
                         and SPARE7_S=:spare7_s
                    </#if>
                    <#if spare8_s??>
                         and SPARE8_S=:spare8_s
                    </#if>
                    <#if spare9_s??>
                         and SPARE9_S=:spare9_s
                    </#if>
                    <#if state_code_s??>
                         and STATE_CODE_S=:state_code_s
                    </#if>
                    <#if store_code_s??>
                         and STORE_CODE_S=:store_code_s
                    </#if>
                    <#if store_type_s??>
                         and STORE_TYPE_S=:store_type_s
                    </#if>
                    <#if supplier_code_s??>
                         and SUPPLIER_CODE_S=:supplier_code_s
                    </#if>
                    <#if supplier_lot_no_s??>
                         and SUPPLIER_LOT_NO_S like '%'||:supplier_lot_no_s||'%'
                    </#if>
                    <#if supplier_name_s??>
                         and SUPPLIER_NAME_S like '%'||:supplier_name_s||'%'
                    </#if>
                    <#if testmat_flag_s??>
                         and TESTMAT_FLAG_S=:testmat_flag_s
                    </#if>
                    <#if test_mesbusinesscode_s??>
                         and TEST_MESBUSINESSCODE_S=:test_mesbusinesscode_s
                    </#if>
                    <#if tray_code_s??>
                         and TRAY_CODE_S=:tray_code_s
                    </#if>
                    <#if warehouseid_s??>
                         and WAREHOUSEID_S=:warehouseid_s
                    </#if>
                    <#if warehouse_location_s??>
                         and WAREHOUSE_LOCATION_S=:warehouse_location_s
                    </#if>
                    <#if warehouse_mode_s??>
                         and WAREHOUSE_MODE_S=:warehouse_mode_s
                    </#if>
                    <#if weight_number_s??>
                         and WEIGHT_NUMBER_S=:weight_number_s
                    </#if>
                      <#if !supplier_lot_no_s?? && !lot_no_s?? && product_time_t??>
                        <#if start_time?? && end_time??>
                         and PRODUCT_TIME_T between TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
                         and TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
                        </#if>
                        <#if start_time?? && !end_time??>
                             and PRODUCT_TIME_T > TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
                        </#if>
                        <#if !start_time?? && end_time??>
                             and PRODUCT_TIME_T < TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
                        </#if>
                        or (PRODUCT_TIME_T=:product_time_t and 0 =1)
                    </#if>
                    <#if !supplier_lot_no_s?? && !lot_no_s?? && in_time_t??>
                         <#if start_time?? && end_time??>
                         and IN_TIME_T between TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
                         and TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
                        </#if>
                        <#if start_time?? && !end_time??>
                             and IN_TIME_T > TO_DATE(:start_time,'YYYY-mm-dd HH24:MI:SS')
                        </#if>
                        <#if !start_time?? && end_time??>
                             and IN_TIME_T < TO_DATE(:end_time,'YYYY-mm-dd HH24:MI:SS')
                        </#if>
                        or (IN_TIME_T=:in_time_t and 0 =1)
                    </#if>
                    <#if spare10_s??>
                         or( SPARE10_S=:spare10_s and 1=0)
                    </#if>
        ]]>
    </sql>


    <sql comment="" id="getStoreUnit">
        <![CDATA[
             select store_code_s,spare4_s
              from AT_RM_WH_ITEM_INV
              where 1 = 1
            and STORE_TYPE_S=:store_type_s
            order by spare4_s asc
        ]]>
    </sql>



</sqls>


